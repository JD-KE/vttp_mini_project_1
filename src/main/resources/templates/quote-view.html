<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Quote Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script>
        /**
         * If browser back button was used, flush cache
         * This ensures that user will always see an accurate, up-to-date view based on their state
         * https://stackoverflow.com/questions/8788802/prevent-safari-loading-from-cache-when-back-button-is-clicked
         */
        (function () {
            window.onpageshow = function(event) {
                if (event.persisted) {
                    window.location.reload();
                }
            };
        })();
    </script>
</head>
<body>
    <div data-th-replace="~{fragments/header}"></div>
    <hr>
    <div class="container d-none d-sm-block">
        <div class="row">
            <div class="col">
                <div class="card text-bg-dark position-relative" >
                    <img data-th-src="@{${'/images/PV_System_Image1_stretched.jpg'}}" class="card-img" alt="Image of Solar PV System" style="min-height: 300px;min-width: 600px;">
                    <div class="card-img-overlay position-absolute top-50 start-50 translate-middle">
                    <h1 class="card-title text-center" style="font-size: clamp(2rem, 3vw, 5rem);">Request for Quote</h1>
                    <br>
                    <h1 class="card-title text-center" style="font-size: clamp(1rem, 2vw, 2rem);">View Quote Request Details</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container d-block d-sm-none">
        <div class="row">
            <div class="col">
                <h1 class="text-center" style="font-size: 3rem;">Request for Quote</h1>
                <br>
                <h3 class="text-center">View Quote Request Details</h3>
            </div>
        </div>
    </div>
    <br>
    <div class="container">
        <div class="row">
            <div class="col col-sm-2">
				<div class="flex-shrink-0 p-3 sticky-top" >
					<a data-th-href="@{/index.html}" class="d-flex justify-content-center align-items-center pb-3 mb-3 link-body-emphasis text-decoration-none border-bottom">
					    <span class="fs-5 fw-semibold">SolarSG</span>
					</a>
                    <div>
						<div class="d-flex justify-content-center mb-3">
							<a data-th-href="@{/index.html}" class="btn btn-outline-primary">Home</a>
						</div>
                        <div class="d-flex justify-content-center mb-3">
							<a data-th-href="@{/about}" class="btn btn-outline-primary">About</a>
						</div>
						<div class="dropdown d-flex justify-content-center mb-3">
							<button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
							  Buyer's Guide
							</button>
							<ul class="dropdown-menu">
								<li>
									<a data-th-href="@{/guide}" class="dropdown-item">
									Summary
									</a>
								</li>
								<li>
									<a href="#" class="dropdown-item disabled">
                                        WIP
                                    </a>
								</li>
								
							</ul>
						</div>
						<div class="dropdown d-flex justify-content-center mb-3">
							<button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
							  Detailed Topics
							</button>
							<ul class="dropdown-menu">
								<li>
									<a data-th-href="@{/topics}" class="dropdown-item">
									List of Topics
									</a>
								</li>
								
								<li><hr class="dropdown-divider"></li>
								<li><span class="dropdown-header">Featured Topics</span></li>
								<li>
									<a data-th-href="@{/topics/sellback}" class="dropdown-item">
									Sellback of Solar Generated Electricity
									</a>
								</li>	
							</ul>
						</div>
						<div class="d-flex justify-content-center mb-3">
							<a data-th-href="@{/quote}" class="btn btn-outline-primary">Quote Request</a>
						</div>
                    </div>
					<hr>
					<div class="dropdown d-flex justify-content-center mb-3">
						<button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
						  Content
						</button>
						<ul class="dropdown-menu">
                            <li>
                                <a href="#intro" class="dropdown-item" onclick="document.getElementById('intro').scrollIntoView();event.preventDefault()">
                                Information
                                </a>
                            </li>
							<li>
                                <a href="#view" class="dropdown-item" onclick="document.getElementById('view').scrollIntoView();event.preventDefault()">
                                Quote Details
                                </a>
                            </li>
							
						</ul>
					</div>
                    <div class="d-flex justify-content-center mb-3">
                        <a href="#" class="btn btn-outline-primary" onclick="document.body.scrollTop=0;document.documentElement.scrollTop=0;event.preventDefault()">Back to Top</a>
                    </div>
                    
				</div>
			</div>
            <div class="col col-1"></div>
            <div class="col col-9">
                <div id="intro">
                    <h1>Quote #<span data-th-text="${idNumber}"></span></h1>
                    <p>Thank you for your quote request. If you had checked "Contact Contractors?", your request will be sent to Solar PV contractors in Singapore for review. You will be contacted via email by the contractors soon for further interaction and arranging a suitable timing to view building/site for the installation.</p>
                    <p>If you are planning to contact contractors you know directly, you can export the request details below.</p> 
                    <p>Once you leave this page, you will have to verify your request id and email again.</p>           
                </div>
                <div id="view">
                    <table class="table table-bordered">
                        <thead >
                            <th>Fields</th>
                            <th>Details</th>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Given Name</td>
                                <td data-th-text="*{quoteRequest.givenName}"></td>
                            </tr>
                            <tr>
                                <td>Family Name</td>
                                <td data-th-text="*{quoteRequest.familyName}"></td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td data-th-text="*{quoteRequest.email}"></td>
                            </tr>
                            <tr>
                                <td>Mobile Phone Number</td>
                                <td data-th-text="*{quoteRequest.mobileNo}"></td>
                            </tr>
                            <tr>
                                <td>Contact Address</td>
                                <td data-th-text="*{quoteRequest.contactAddress}"></td>
                            </tr>
                            <tr>
                                <td>Site Address</td>
                                <td data-th-text="*{quoteRequest.siteAddress}"></td>
                            </tr>
                            <tr>
                                <td>Site Type</td>
                                <td data-th-text="*{quoteRequest.siteType}"></td>
                            </tr>
                            <tr>
                                <td>Type of Roof</td>
                                <td data-th-text="*{quoteRequest.roofType}"></td>
                            </tr>
                            <tr>
                                <td>Monthly Bill</td>
                                <td data-th-text="*{quoteRequest.monthlyBill}"></td>
                            </tr>
                            <tr>
                                <td>Electricity Retailer</td>
                                <td data-th-text="*{quoteRequest.electricityRetailer}"></td>
                            </tr>
                            <tr>
                                <td>Electricity Usage</td>
                                <td data-th-switch="*{quoteRequest.electricityUsage}">
                                    <span data-th-case="'Morning and Evening'">Mostly in the Mornings and Evenings</span>
                                    <span data-th-case="'Equal'">Equal throughout the Day</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Expected Install Time</td>
                                <td data-th-switch="*{quoteRequest.expectedInstallTime}">
                                    <span data-th-case="'ASAP'">As Soon As Possible</span>
                                    <span data-th-case="'3-6 months'">Within 3-6 months</span>
                                    <span data-th-case="'6-12 months'">Within 6-12 months</span>
                                    <span data-th-case="'Undecided'">Undecided</span>
                                </td>
                            </tr>
                            <tr>
                                <td>Contact Contractors?</td>
                                <td data-th-switch="*{quoteRequest.contactPermission}">
                                    <span data-th-case="true">Yes</span>
                                    <span data-th-case="false">No</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <br>
                <div class="d-flex justify-content-between">
                    <a data-th-href="@{/quote/export/{id}.json (id=${idNumber})}" class="btn btn-danger" target="_blank" rel="noopener noreferrer">Export Details as JSON</a>
                    <a data-th-href="@{/quote}" class="btn btn-danger">Return to Request Quote Portal</a>
                </div>
            </div>
            
        </div>
        
    </div>
    <div data-th-replace="~{fragments/footer}"></div>>
</body>
</html>